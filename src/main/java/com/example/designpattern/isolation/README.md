### 接口隔离原则

#### 一、定义

##### 接口定义

1. 实例接口（Object Interface）

    在java声明一个类，然后用new关键字产生一个实例，它是对类型的事务的描述，这是一种接口。
 
2. 类接口（Class Interface）

    java中经常使用interface关键字定义的接口。
    
##### 隔离原则定义

1.  客户端不应该依赖它不需要的接口。

    解析：
        
        应该依赖是什么?依赖它需要的接口，客户端需要设么接口就提供什么接口，把不需要的接口剔除掉，那就需要对接口进行细化，保证其纯洁性；

2. 类间的依赖关系应该建立在最小的接口上。

    解析：
    
        要求是最小接口，也是要求接口细化，接口纯洁，与第一个定义如出一辙，只是一种事物的两种不同描述。

总结：

    建立单一接口，不要建立臃肿庞大的接口。接口尽量细化，同时接口中方法尽量少。
    
    
#### 二、例子

##### 1. 星探找美女的过程


##### 总结

    把一个臃肿的接口变更为两个独立的接口所依赖的原则就是接口隔离原则。让星探AbstractSearcher依赖两个专用的接口比依赖一个综合二的接口要更灵活。接口是我们设计时对外提供的契约，通过分散定义多个接口，可以预防 未来变更的扩散 ，提高系统的灵活性和可维护性。
        

#### 三、约束

接口隔离原则是对接口进行规范约束，包括四层含义：

- 接口要尽量小

    根据接口隔离原则拆分接口时，首先必须满足单一职责原则。
    
- 接口要高内聚

    要求在接口中尽量少公布public方法，接口是对外的承诺，承诺越少对系统的开发越有利，变更的风险越少，用时也有利于降低成本。

- 定制服务 

    一个系统或系统内的额模块之间必然会耦合，有耦合就要有相互访问的接口，我们设计时就需要为各个访问者（客户端）定制服务。什么是定制服务？单独为一个个体提供优良的服务。

- 接口设计是有限度的

    接口的设计粒度越小，系统越灵活，这是不争的事实。但是灵活的同时也带来了结构的复杂化，开发难度增加，可维护性降低，所以接口设计一定要适度，这个"度"如何判断？根据经验和常识判断，没有一个固化或者可测量的标准。

 
#### 四、最佳实践

接口隔离原则是对接口的定义，同时也是对类的定义，接口和类尽量使用原子接口或原子类来组装。在实践中可以根据以下几个规则来衡量:

- 一个接口只服务于一个子模块或业务逻辑
- 通过业务逻辑压缩接口中public方法，接口时常去回顾，尽量让接口达到"满身筋骨肉"，而不是"肥嘟嘟"的一大堆方法。
- 已经被污染了的接口，尽量去修改，若变更的风险较大，则采用适配器模式进行转化处理。
- 了解环境，拒绝盲从。每个项目或产品都有特定的环境因素，别看到大师是这样做就照抄。千万别，环境不同，接口拆分的标准就不同。深入了解业务逻辑，最好的接口设计就出自你的手中。

如何正确使用接口隔离原则？

    实践、经验、领悟！
    
    根据经验和常识决定接口的粒度大小，接口粒度太小，导致接口数据剧增；接口粒度太大。灵活性降低，无法提供定制服务，给整体项目带来无法预料的额风险。
    
    